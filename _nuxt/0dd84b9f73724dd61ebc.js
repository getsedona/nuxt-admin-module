(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{266:function(e,t,n){"use strict";n(311),n(62),n(17),n(44);var o=n(31),r=n(237),c=n(8),l=(n(15),n(12),n(63),n(238),n(0)),d=n(83),m=n.n(d),f=l.a.extend({name:"AdminListFullscreen",components:{},props:{items:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},actions:{type:Array,default:function(){return[]}}},methods:{show:function(){this.$refs.dialog.show()},hide:function(){this.$refs.dialog.hide()},onDialogHide:function(){this.$emit("hide")},onOKClick:function(){this.$emit("ok"),this.hide()},onCancelClick:function(){this.hide()}},render:function(e){var t=y.call(this,e),n=e("q-toolbar",{class:["q-pa-none","bg-grey-7"]},[e("q-btn",{props:{flat:!0,round:!0,dense:!0,icon:"close"},on:{click:this.hide}}),e("q-space")].concat(Object(r.a)(t))),table=e("q-table",{props:{dark:!0,flat:!0,"hide-header":!0,"hide-footer":!0,title:"aasdasdsd",color:"amber",columns:this.columns,data:this.items}});return e("q-dialog",{props:{maximized:!0},ref:"dialog",on:{hide:this.onDialogHide}},[e("q-card",{props:{dark:!0},class:["q-dialog-plugin","q-dialog-plugin--dark","admin-panel"]},[n,table])])}});function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k={flat:!0,round:!0,dense:!0},O=new Set;function y(e){return O.size>0?O:(this.actions.forEach((function(t){var title=m()(t,"title",""),n=m()(t,"icon","extensions"),o={props:v({},k,{icon:n})};t.click instanceof Function&&(o.on={click:t.click}),O.add(e("q-btn",o,Object(r.a)(""!==title?[e("q-tooltip",title)]:[])))})),O)}var j=l.a.extend({name:"AdminList",components:{ListFullscreen:f},props:{items:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},titleFieldName:{type:[String,Function],default:"title"},subtitleFieldName:{type:[String,Function],default:""},actions:{type:Array,default:function(){return[]}},hideFullScreen:{type:Boolean,default:!1},itemClick:{type:Function,default:function(){}}},methods:{openFullScreen:function(){this.$q.dialog({dark:!0,maximized:!0,class:"admin-panel",root:this.$root,component:f,items:this.items,columns:this.columns,actions:this.actions})}},render:function(e){var t=this,n=y.call(this,e),c=e("q-toolbar",{class:"q-pa-none"},[].concat(Object(r.a)(n),[e("q-space")],Object(r.a)(this.hideFullScreen?[]:[e("q-btn",{props:v({},k,{icon:"fullscreen"}),on:{click:this.openFullScreen}},[e("q-tooltip","Fullscreen mode")])]))),l=new Set;this.items.forEach((function(n){var title="<NO TITLE FIELD NAME PROVIDED>";switch(Object(o.a)(t.titleFieldName)){case"string":title=m()(n,t.titleFieldName,title);break;case"function":title=t.titleFieldName(n)}title=e("q-item-label",title);var c="";if(""!==t.subtitleFieldName)switch(Object(o.a)(t.subtitleFieldName)){case"string":c=m()(n,t.subtitleFieldName,"BAD SUBTITLE FIELD NAME PROVIDED>");break;case"function":c=t.subtitleFieldName(n)}""!==c&&(c=e("q-item-label",{props:{caption:!0}},c));var d=e("q-item",{props:{clickable:!0},on:{click:function(){return t.$emit("item-click",n)}}},[e("q-item-section",[title].concat(Object(r.a)("object"===Object(o.a)(c)?[c]:[])))]);l.add(d)}));var d=e("q-list",{props:{separator:!0,dark:!0}},Object(r.a)(l));return e("div",[c,d])}}),w=(n(33),n(248)),P=n.n(w);function S(e,t,n){var o=this;return n("q-input",{props:{label:m()(t,"label",P()(t.name)),type:e,dark:!0,outlined:!0,filled:!0,value:this.form[t.name]},on:{input:function(e){o.$set(o.form,t.name,e)}}})}var E=l.a.extend({name:"AdminForm",props:{schema:{type:Object,required:!0},data:{type:Object,default:function(){}},isNew:{type:Boolean,default:!1}},data:function(){return{form:{}}},created:function(){var e=this;this.schema.fields.forEach((function(t){var n=e.isNew?m()(e.data,t.name,m()(t,"value","")):m()(e.data,t.name,"");e.$set(e.form,t.name,n)}))},methods:{submit:function(){this.$emit("submit",{form:this.form})}},render:function(e){var t=this,n=new Set;this.schema.fields.forEach((function(o){switch(o.type){case"text":n.add(S.call(t,"text",o,e));break;case"textarea":n.add(S.call(t,"textarea",o,e));break;case"password":n.add(S.call(t,"password",o,e));break;case"email":n.add(S.call(t,"email",o,e));break;case"search":n.add(S.call(t,"search",o,e));break;case"tel":n.add(S.call(t,"tel",o,e));break;case"file":n.add(S.call(t,"file",o,e));break;case"number":n.add(S.call(t,"number",o,e));break;case"url":n.add(S.call(t,"url",o,e));break;case"time":n.add(S.call(t,"time",o,e));break;case"date":n.add(S.call(t,"date",o,e));break;case"color":n.add(S.call(t,"color",o,e))}}));var o=e("div",{class:"q-gutter-sm"},[e("q-btn",{props:{label:"OK",type:"submit",color:"primary"},class:"full-width"}),e("q-btn",{props:{label:"Cancel",type:"reset",flat:!0},class:"full-width"})]);return e("div",{class:"q-pa-md"},[e("q-form",{class:"q-gutter-md",ref:"form",props:{autofocus:!0},on:{submit:function(){return t.submit()},reset:function(){return t.$emit("reset")}}},[].concat(Object(r.a)(n),[o]))])}}),x=n(345),$=n.n(x),B=(n(132),n(130),n(310),n(34)),F=n(285),D=n(347),C=n.n(D),A=l.a.extend({name:"BlockspaletteItem",functional:!0,props:{title:{type:String,default:""},description:{type:String,default:""},icon:{type:String,default:"extension"},name:{type:String,required:!0}},render:function(e,t){var n,o=t.props,c=t.listeners;""!==o.description&&(n=e("q-item-label",{props:{caption:!0}},o.description));var title=o.title;return""===title&&(title=C()(o.name)),e("q-item",{props:{clickable:!0},on:{click:function(){return c.click({name:o.name})}}},[e("q-item-section",{props:{avatar:!0}},[e("q-avatar",{props:{icon:o.icon,color:"grey-7","text-color":"white"}})]),e("q-item-section",[e("q-item-label",title)].concat(Object(r.a)(void 0!==n?[n]:[])))])}}),_=l.a.extend({name:"BlocksPaletteSearch",data:function(){return{search:""}},methods:{focus:function(){this.$refs.input.focus()},clear:function(){this.search="",this.$emit("change","")}},render:function(e){var t,n=this;return""!==this.search&&(t=e("q-icon",{props:{name:"close"},class:"cursor-pointer",on:{click:this.clear}})),e("q-input",{ref:"input",props:{filled:!0,dark:!0,label:"Search",value:this.search},scopedSlots:{append:function(){return[].concat(Object(r.a)(t?[t]:[]),[e("q-icon",{props:{name:"search"}})])}},on:{input:function(e){n.search=e,n.$emit("change",e.trim())}}})}});function N(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var I=l.a.extend({name:"BlocksPalette",components:{BlocksPaletteItem:A,BlocksPaletteSearch:_},data:function(){return{search:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(B.c)("admin/blocks",{blocks:"items"}),{},Object(B.b)("admin/blocks",{groups:"blockGroups"})),methods:{show:function(){this.$el.classList.remove("hidden"),this.$refs.searchInput.focus(),this.$emit("show")},hide:function(){this.$refs.searchInput.clear(),this.$el.classList.add("hidden"),this.$emit("hide")},addBlock:function(e){this.$emit("add-block",{name:e})}},render:function(e){var t=this,n=Object.assign({},this.groups);Array.isArray(this.blocks)&&this.blocks.forEach((function(o){var r=o.group||"general";n[r]instanceof Map||(n[r]=new Map),n[r].set(Object(F.a)(),{meta:o,component:e("blocks-palette-item",{props:o,on:{click:function(e){var n=e.name;return t.addBlock(n)}}})})}));var o=new Set;if(""!==this.search){var c=new RegExp("^(.+)?".concat(this.search,"(.+)?$"),"gi");Object.keys(n).forEach((function(e){n[e].forEach((function(e,t){var meta=e.meta;(c.test(meta.title||"")||c.test(meta.description||""))&&o.add(t)}))}))}var l=new Map;this.groups.size>1&&this.groups.forEach((function(t){l.set(t,e("q-item-label",{props:{header:!0}},P()(t)))}));var d=new Set;return l.size>0?l.forEach((function(e,r){n[r].size>0&&n[r].forEach((function(n,r){var component=n.component;""===t.search?(d.add(e),d.add(component)):o.has(r)&&(d.add(e),d.add(component))}))})):1===Object.keys(n).length&&n.general.forEach((function(e,n){var component=e.component;""===t.search?d.add(component):o.has(n)&&d.add(component)})),e("div",{class:["admin-blocks-palette","bg-grey-9","shadow-5","hidden","z-top"]},[e("q-toolbar",{class:"bg-grey-7"},[e("q-toolbar-title","Select block"),e("q-btn",{props:{flat:!0,round:!0,dense:!0},on:{click:this.hide}},[e("q-icon",{props:{name:"arrow_back"}})])]),e("blocks-palette-search",{ref:"searchInput",on:{change:function(e){return t.search=e}}}),e("q-list",{props:{bordered:!1,padding:!0,dark:!0}},Object(r.a)(d))])}}),V=(n(35),function(e,t){var n=this,o=e.name;return t("q-input",{props:{dark:!0,outlined:!0,filled:!0,value:this.propValues[o],label:m()(this.metaProps,[o,"label"],P()(o)),type:m()(this.metaProps,[o,"type"],"text")},on:{input:function(e){return n.$set(n.formValues,o,e)}}})}),L=function(e,t){var n,r,c,l,d=this,m=e.name,f=(null===(n=this.metaProps)||void 0===n?void 0:null===(r=n[m])||void 0===r?void 0:r.options)||[],h=[];f.forEach((function(e){switch(Object(o.a)(e)){case"string":h.push({label:P()(e),value:e});break;case"object":h.push(e)}}));var component=t("q-option-group",{attrs:{type:"radio",dark:!0,options:h,value:this.propValues[m]},on:{input:function(e){return d.$set(d.formValues,m,e)}}});return t("q-field",{attrs:{label:(null===(c=this.metaProps)||void 0===c?void 0:null===(l=c[m])||void 0===l?void 0:l.label)||P()(m),"stack-label":!0,dark:!0,filled:!0},scopedSlots:{control:function(){return[component]}}})},M=new Set(["text","radio-group"]),R=l.a.extend({name:"BlocksViewItemForm",components:{},props:{component:{type:String,required:!0},form:{type:Object,default:function(){}}},data:function(){return{formValues:{},customFields:new Map}},computed:{metaProps:function(){var e=this.$store.getters["admin/blocks/getMetaByComponent"](this.component);return(null==e?void 0:e.props)||{}},propValues:function(){var e=this,t={};return Object.keys(this.metaProps).forEach((function(n){var o,r,c,l,d={form:(null===(o=e.formValues)||void 0===o?void 0:o[n])||void 0,saved:(null===(r=e.form)||void 0===r?void 0:r[n])||void 0,default:(null===(c=e.metaProps)||void 0===c?void 0:null===(l=c[n])||void 0===l?void 0:l.default)||void 0};t[n]=(null==d?void 0:d.form)||(null==d?void 0:d.saved)||(null==d?void 0:d.default)||""})),t}},watch:{formValues:{deep:!0,handler:function(e){this.__changeParams(e)}}},created:function(){var e=this,t=Object.keys(this.metaProps).map((function(t){var n,o;return(null===(n=e.metaProps)||void 0===n?void 0:null===(o=n[t])||void 0===o?void 0:o.type)||"text"})).filter((function(e){return!M.has(e)})),o=!0,r=!1,c=void 0;try{for(var l,d=function(){var t=l.value;e.customFields.set(t,(function(){return e=t,{component:n(357)("./".concat(e)),timeout:600};var e}))},m=t[Symbol.iterator]();!(o=(l=m.next()).done);o=!0)d()}catch(e){r=!0,c=e}finally{try{o||null==m.return||m.return()}finally{if(r)throw c}}},methods:{__changeParams:function(e){this.$emit("change",e)}},render:function(e){for(var t=[],n=0,o=Object.keys(this.metaProps);n<o.length;n++){var r,c,l=o[n],d=(null===(r=this.metaProps)||void 0===r?void 0:null===(c=r[l])||void 0===c?void 0:c.type)||"text";switch(d){case"text":t.push(V.call(this,{name:l},e));break;case"radio-group":t.push(L.call(this,{name:l},e));break;default:console.warn("".concat(d," is unknown custom field")),t.push(e(this.customFields.get(d)))}}return 0===t.length&&t.push(e("div",{class:"q-pa-sm"},["Block has't params"])),e("q-card",{class:"bg-grey-9",attrs:{flat:!0}},[t])}}),z=l.a.extend({name:"BlocksViewItem",components:{BlocksViewItemForm:R},props:{id:{type:String,required:!0},component:{type:String,required:!0},props:{type:Object,default:function(){}}},data:function(){return{showRemoveConfirm:!1}},computed:{meta:function(){return this.$store.getters["admin/blocks/getMetaByComponent"](this.component)}},methods:{removeCancelClick:function(e){e.stopPropagation(),this.showRemoveConfirm=!1},removeOkClick:function(e){e.stopPropagation(),this.$emit("remove",{id:this.id})},removeClick:function(){this.showRemoveConfirm=!0},__changeParams:function(e){this.$emit("change-params",e)}},render:function(){var e,t,n,o=this,c=arguments[0],l=c("div",{class:["fit","row","q-gutter-x-sm","justify-center"]},[c("q-btn",{attrs:{label:"Cancel",dense:!1,outline:!0},on:{click:this.removeCancelClick}}),c("q-btn",{attrs:{label:"Remove",dense:!1,color:"negative"},on:{click:this.removeOkClick}})]),d=c("q-item-section",{attrs:{avatar:!0}},[c("q-avatar",{attrs:{icon:(null===(e=this.meta)||void 0===e?void 0:e.icon)||"extension",textColor:"white"}})]),m=c("q-item-section",[c("q-item-label",[(null===(t=this.meta)||void 0===t?void 0:t.title)||this.component]),this.meta.description?c("q-item-label",{attrs:{caption:!0,lines:2}},[this.meta.description]):void 0]),f=c("q-item-section",{attrs:{side:!0}},[c("q-btn",{attrs:{round:!0,flat:!0,dense:!0,icon:"more_vert"},on:{click:function(e){return e.stopPropagation()}}},[c("q-menu",{attrs:{"auto-close":!0}},[c("q-list",{attrs:{bordered:!1}},[c("q-item",{attrs:{clickable:!0}},[c("q-item-section",["Copy"])]),c("q-item",{attrs:{clickable:!0},on:{click:this.removeClick}},[c("q-item-section",[c("q-item-label",{attrs:{lines:1}},["Remove Block"])])])])])])]);return c("q-expansion-item",{attrs:{icon:(null===(n=this.meta)||void 0===n?void 0:n.icon)||"extension",denseToggle:!1,defaultOpened:!1,group:"blocks"},class:["admin-block-item","bg-grey-7","text-white"],scopedSlots:{header:function(){return Object(r.a)(o.showRemoveConfirm?[l]:[d,m,f])}}},[c("blocks-view-item-form",{attrs:{component:this.component,form:this.props},on:{change:function(e){return o.__changeParams(e)}}})])}});function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var H=l.a.extend({name:"BlocksView",components:{Draggable:$.a,BlocksPalette:I,BlocksViewItem:z},props:{blocks:{type:Array,required:!0}},data:function(){return{isPaletteOpen:!1}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1}}},methods:{dragEnd:function(e){console.log(e)},isBlockExists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.$store.getters["admin/blocks/hasBlock"](e)},addBlock:function(e){this.$emit("add-block",{id:Object(F.a)(),component:e,props:{}})},removeBlock:function(e){this.$emit("remove-block",{id:e})},__changeParams:function(e,t){this.$emit("change-params",{id:e,params:t})}},render:function(e){var t=this,n=e("q-menu",[e("q-list",{style:"min-width: 100px"},[e("q-item",{props:{clickable:!0}},[e("q-item-section","Clear All")])])]),o=e("blocks-palette",{ref:"palette",on:{show:function(){return t.isPaletteOpen=!0},hide:function(){return t.isPaletteOpen=!1},"add-block":function(e){var n=e.name;return t.addBlock(n)}}}),c=e("q-btn",{props:{icon:"add",color:"primary",round:!0,dense:!0},class:"q-ml-sm",on:{click:function(){return t.$refs.palette.show()}}}),l=e("q-btn",{props:{icon:"close",color:"negative",round:!0,dense:!0},class:"q-ml-sm",on:{click:function(){return t.$refs.palette.hide()}}}),d=e("q-toolbar",{class:"q-pa-sm"},[].concat(Object(r.a)(this.isPaletteOpen?[l]:[c]),[e("q-space"),e("q-btn",{props:{flat:!0,round:!0,icon:"more_vert"},class:["q-mr-sm"]},[n])])),m=new Set;return this.blocks.forEach((function(n){t.isBlockExists(n.component)?m.add(e("blocks-view-item",{props:U({},n),key:n.id,on:{remove:function(e){var n=e.id;return t.removeBlock(n)},"change-params":function(e){return t.__changeParams(n.id,e)}}})):console.warn("Block with name ".concat(n.component," not exists in project"))})),e("div",[o,d,e("q-list",{props:{dark:!0}},[e("draggable",{props:{options:this.dragOptions},on:{end:this.dragEnd}},[e("transition-group",{props:{type:"transition",name:"flip-list"}},Object(r.a)(m))])])])}});n(358),n(273);n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return H}))},273:function(e,t,n){"use strict";n.r(t);n(62),n(17),n(44);var o=n(237),r=n(8),c=(n(15),n(12),n(63),n(238),n(0));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.default=c.a.extend({name:"TheBlocks",functional:!0,props:{blocks:{type:Array,default:function(){return[]}},tag:{type:String,default:"div"}},render:function(e,t){var n=t.props,r=new Set;return n.blocks.forEach((function(t){var component=e(t.component,{props:d({id:t.id},t.props)});r.add(component)})),e(n.tag,Object(o.a)(r))}})},357:function(e,t,n){var map={"./boolean":[268,2],"./boolean.vue":[268,2]};function o(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],o=t[0];return n.e(t[1]).then((function(){return n(o)}))}o.keys=function(){return Object.keys(map)},o.id=357,e.exports=o},358:function(e,t,n){}}]);